(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{1827:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var i=t(7735),r=t(7294),o=t(5893),a=function(e,n){if(!e.initializing)return e;switch(n.mode){case"progress":case"indeterminate":case"notice":case"hidden":break;default:throw new Error("Invalid status mode")}return{mode:n.mode,msg:n.msg,percent:n.percent||0,initializing:!n.initialized}},s=(0,r.createContext)([{mode:"",initializing:!0},console.log]),c=function(e){var n=e.notice,t=e.percent,i=void 0===t?0:t,r=e.indeterminate,a=void 0!==r&&r;return(0,o.jsxs)("div",{id:"status",children:[a?(0,o.jsxs)("div",{id:"status-indeterminate",onContextMenu:function(e){return e.preventDefault()},children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]}):(0,o.jsx)("div",{id:"status-progress",onContextMenu:function(e){return e.preventDefault()},children:(0,o.jsx)("div",{id:"status-progress-inner",style:{width:"".concat(i,"%")}})}),n&&(0,o.jsx)("div",{id:"status-notice",className:"godot",children:n})]})},u=function(e){var n=e.children,t=(0,r.useReducer)(a,{mode:"indeterminate",initializing:!0}),i=t[0],u=t[1];return(0,o.jsxs)(s.Provider,{value:[i,u],children:["hidden"!==i.mode&&(0,o.jsx)(c,{notice:i.msg,percent:i.percent,indeterminate:"indeterminate"===i.mode}),n]})},d=t(9163),l=d.ZP.div.withConfig({displayName:"godotstyles__CanvasContainer",componentId:"sc-8jdy86-0"})(["position:absolute;display:flex;justify-content:center;top:265px;left:425px;width:180px;height:240px;overflow:auto;scrollbar-width:none;-ms-overflow-style:none;::-webkit-scrollbar{display:none;}"]),f=d.ZP.canvas.withConfig({displayName:"godotstyles__Canvas",componentId:"sc-8jdy86-1"})(["display:block;margin:0;color:white;width:400%;height:100%;"]);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(c){s=!0,r=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return{msg:e.message,mode:"notice",initialized:!0}}var p=function(e){var n=e.engine,t=e.execname,i=(0,r.useRef)(null),a=(0,r.useState)(null),c=a[0],u=a[1],d=m((0,r.useContext)(s),2),l=d[0],h=d[1];(0,r.useEffect)((function(){n.isWebGLAvailable()?(h({mode:"indeterminate"}),u(new n)):h(v(new Error("WebGL not available")))}),[h,n]);var p="".concat(t,".pck");return(0,r.useEffect)((function(){c&&c.startGame({executable:t,onProgress:function(e,n){h(n>0?{mode:"progress",percent:e/n}:{mode:"indeterminate"})},canvas:i,canvasResizePolicy:0}).then((function(){h({mode:"hidden",initialized:!0})})).catch((function(e){return h(v(e))}))}),[c,p,h,t]),(0,o.jsxs)(f,{ref:i,id:"canvas",style:{display:l.initializing?"hidden":"block"},children:["HTML5 canvas appears to be unsupported in the current browser.",(0,o.jsx)("br",{}),"Please try updating or use a different browser."]})},g=function(e){var n,t,i=e.execname,a=e.resize,s=void 0!==a&&a,c=e.width,d=e.height,f=e.params,h=(0,r.useRef)(null),m=(0,r.useState)(null),v=m[0],g=m[1],x=(0,r.useState)([c,d]),y=x[0],w=x[1],b="".concat(i,".js");return n=b,t=function(){var e=window;g((function(){return e.Engine}))},(0,r.useEffect)((function(){var e=document.createElement("script");return e.src=n,e.async=!0,e.onload=t,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,r.useEffect)((function(){s&&h.current&&w([h.current.clientWidth,h.current.clientHeight])}),[s]),(0,o.jsx)(l,{ref:h,children:(0,o.jsx)(u,{children:v&&(0,o.jsx)(p,{engine:v,execname:i,width:y[0],height:y[1],params:f})})})},x=function(){return(0,o.jsx)(i.Z,{page:"Play",children:(0,o.jsx)(g,{execname:"/static/webGL/nft",resize:!1,width:50,height:50})})},y=function(){return(0,o.jsx)(x,{})}},1634:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return t(1827)}])}},function(e){e.O(0,[735,774,888,179],(function(){return n=1634,e(e.s=n);var n}));var n=e.O();_N_E=n}]);