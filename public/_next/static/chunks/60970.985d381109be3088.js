"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60970],{60970:function(e,t,n){n.d(t,{autoConnectInjectedWallet:function(){return m},connectInjectedWallet:function(){return f}});var a=n(98888),r=n(75814),i=n(74589),s=n(98356),o=n(75100),c=n(95810),u=n(75403),d=n(52749),h=n(4159);function l(e){let t=(0,i.Y)(e);if(!t)throw Error(`no injected provider found for wallet: "${e}"`);return t}async function f(e,t,n){let a=l(e),i=(await a.request({method:"eth_requestAccounts"}))[0];if(!i)throw Error("no accounts available");let s=(0,h.Kn)(i),o=await a.request({method:"eth_chainId"}).then(r.J),u=(0,c.ax)(o);return t.chain&&t.chain.id!==o&&(await w(a,t.chain),u=t.chain),p(a,s,u,n)}async function m(e,t){let n=l(e),a=(await n.request({method:"eth_accounts"}))[0];if(!a)throw Error("no accounts available");let i=(0,h.Kn)(a),s=await n.request({method:"eth_chainId"}).then(r.J);return p(n,i,(0,c.ax)(s),t)}async function p(e,t,n,i){let s={address:t,async sendTransaction(t){return{transactionHash:await e.request({method:"eth_sendTransaction",params:[{accessList:t.accessList,value:t.value?(0,u.eC)(t.value):void 0,gas:t.gas?(0,u.eC)(t.gas):void 0,from:this.address,to:t.to,data:t.data}]})}},async signMessage({message:t}){if(!s.address)throw Error("Provider not setup");let n="string"==typeof t?(0,u.$G)(t):t.raw instanceof Uint8Array?(0,u.dg)(t.raw):t.raw;return await e.request({method:"personal_sign",params:[n,s.address]})},async signTypedData(t){if(!e||!s.address)throw Error("Provider not setup");let{domain:n,message:r,primaryType:i}=t,c={EIP712Domain:(0,a.cj)({domain:n}),...t.types};(0,a.iC)({domain:n,message:r,primaryType:i,types:c});let u=(0,o.P)({domain:n??{},message:r,primaryType:i,types:c},(e,t)=>(0,d.v)(t)?t.toLowerCase():t);return await e.request({method:"eth_signTypedData_v4",params:[s.address,u]})}};function h(){e&&e.removeListener&&(e.removeListener("accountsChanged",f),e.removeListener("chainChanged",m),e.removeListener("disconnect",l))}function l(){h(),i.emit("disconnect",void 0)}function f(e){0===e.length?l():i.emit("accountsChanged",e)}function m(e){let t=(0,c.ax)((0,r.J)(e));i.emit("chainChanged",t)}return e.on&&(e.on("accountsChanged",f),e.on("chainChanged",m),e.on("disconnect",l)),[s,n,h,t=>w(e,t)]}async function w(e,t){let n=(0,u.eC)(t.id);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch(a){if(a?.code===4902||a?.data?.originalError?.code===4902){let a=await (0,c.ZN)(t);await e.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:(0,s.w)(a),blockExplorerUrls:a.explorers?.map(e=>e.url)}]})}else throw a}}},98356:function(e,t,n){function a(e){return(function(e,t,n="http"){let a=[];if(e.rpc.forEach(e=>{if(("http"!==n||e.startsWith("http"))&&("ws"!==n||e.startsWith("ws"))){if(e.includes("${THIRDWEB_API_KEY}"))t?a.push(e.replace("${THIRDWEB_API_KEY}",t)+("undefined"!=typeof globalThis&&"APP_BUNDLE_ID"in globalThis?`/?bundleId=${globalThis.APP_BUNDLE_ID}`:"")):a.push(e.replace("${THIRDWEB_API_KEY}",""));else{if(e.includes("${"))return;a.push(e)}}}),0===a.length)throw Error(`No RPC available for chainId "${e.chainId}" with mode ${n}`);return a})(e).map(e=>{try{let t=new URL(e);return t.hostname.endsWith(".thirdweb.com")&&(t.pathname="",t.search=""),t.toString()}catch(t){return e}})}n.d(t,{w:function(){return a}})},75814:function(e,t,n){n.d(t,{J:function(){return i}});var a=n(52749),r=n(75403);function i(e){return"number"==typeof e?e:(0,a.v)(e)?(0,r.ly)(e):"bigint"==typeof e?Number(e):parseInt(e,10)}},98888:function(e,t,n){n.d(t,{cj:function(){return p},iC:function(){return m}});var a=n(57412),r=n(62027);class i extends r.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class s extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}var o=n(45775);let c=/^0x[a-fA-F0-9]{40}$/,u=new s(8192);var d=n(39135),h=n(92106);let l=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,f=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function m(e){let{domain:t,message:n,primaryType:r,types:s}=e,m=(e,t)=>{for(let n of e){let{name:e,type:r}=n,p=t[e],w=r.match(f);if(w&&("number"==typeof p||"bigint"==typeof p)){let[e,t,n]=w;(0,h.eC)(p,{signed:"int"===t,size:parseInt(n)/8})}if("address"===r&&"string"==typeof p&&!function(e,{strict:t=!0}={}){if(u.has(e))return u.get(e);let n=!!c.test(e)&&(e.toLowerCase()===e||!t||(0,o.x)(e)===e);return u.set(e,n),n}(p))throw new i({address:p});let v=r.match(l);if(v){let[e,t]=v;if(t&&(0,d.d)(p)!==parseInt(t))throw new a.KY({expectedSize:parseInt(t),givenSize:(0,d.d)(p)})}let y=s[r];y&&m(y,p)}};s.EIP712Domain&&t&&m(s.EIP712Domain,t),"EIP712Domain"!==r&&m(s[r],n)}function p({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}}}]);